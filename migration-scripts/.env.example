# Migration Scripts Configuration

# Source Database (SQLite - Original Monolith)
SOURCE_DATABASE_PATH=../prisma/dev.db

# Target Databases (PostgreSQL - Microservices)
IDENTITY_DATABASE_URL=postgresql://postgres:postgres@localhost:5433/secondopinion_identity
CASES_DATABASE_URL=postgresql://postgres:postgres@localhost:5434/secondopinion_cases
AI_DATABASE_URL=postgresql://postgres:postgres@localhost:5435/secondopinion_ai
PROFESSIONALS_DATABASE_URL=postgresql://postgres:postgres@localhost:5436/secondopinion_professionals
NOTIFICATIONS_DATABASE_URL=postgresql://postgres:postgres@localhost:5437/secondopinion_notifications

# Migration Settings
MIGRATION_BATCH_SIZE=1000
MIGRATION_DELAY_MS=100
MIGRATION_MAX_RETRIES=3
BACKUP_BEFORE_MIGRATION=true
DRY_RUN=false

# Logging Configuration
LOG_LEVEL=info
LOG_FILE=migration.log
LOG_CONSOLE=true

# Validation Settings
VALIDATION_ENABLED=true
STRICT_MODE=false
TOLERANCE_PERCENTAGE=0.1

# Export/Import Settings
EXPORT_OUTPUT_DIR=./exports
EXPORT_FORMAT=json
INCLUDE_METADATA=true

# Microservice URLs (for testing connectivity)
IDENTITY_SERVICE_URL=http://localhost:3001
CASE_SERVICE_URL=http://localhost:3002
AI_SERVICE_URL=http://localhost:3003
PROFESSIONAL_SERVICE_URL=http://localhost:3004
NOTIFICATION_SERVICE_URL=http://localhost:3005